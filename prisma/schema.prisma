generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model migration {
  applied            Int
  database_migration String
  datamodel          String
  datamodel_steps    String
  errors             String
  finished_at        DateTime?
  name               String
  revision           Int       @default(autoincrement()) @id
  rolled_back        Int
  started_at         DateTime
  status             String

  @@map("_migration")
}

model Customer {
  businessName  String  @unique
  id            Int     @default(autoincrement()) @id
  licenseNumber String? @unique
  ownerName     String?
  phoneNumber   String?
  pic           String?
  profile       String?
  sale          Sale[]
}

model File {
  id  Int    @id
  url String
}

model Fish {
  hotkeyNum String? @unique
  id        Int     @default(autoincrement()) @id
  name      String  @unique
  price     String?
  sale      Sale[]
}

model Sale {
  createdAt  DateTime? @default(now())
  id         Int       @id
  price      Float
  quantity   Float
  customer   Customer  @relation(fields: [customerId], references: [id])
  customerId Int
  fish       Fish      @relation(fields: [fishId], references: [id])
  fishId     Int
}

model User {
  businessName  String
  email         String  @unique
  firstName     String
  id            Int     @default(autoincrement()) @id
  lastName      String
  licenseNumber String  @unique
  phoneNumber   String
  pic           String?
  profile       String?
}
